<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>
      Web Manifest
    </title>
    <script src="http://www.w3.org/Tools/respec/respec-w3c-common" class=
    "remove">
</script>
    <script class='remove'>
var respecConfig = {
    specStatus: "ED",
    shortName: "manifest",
    edDraftURI: "http://www.w3.org/2012/sysapps/manifest/",
    editors: [{
            name: "Marcos Caceres",
            company: "Mozilla Corporation",
            companyURL: "http://mozilla.com"
        }
    ],
    inlineCSS: true,
    noIDLIn: true,
    noLegacyStyle: false,
    extraCSS: ["../ReSpec.js/css/respec.css"],
    wg: "System Applications Working Group",
    wgURI: "http://www.w3.org/2012/sysapps/",
    wgPublicList: "public-sysapps",
    wgPatentURI: "http://www.w3.org/2004/01/pp-impl/58119/status",
    otherLinks: [{
            key: "Repository",
            data: [{
                    value: "We are on Github.",
                    href: "https://github.com/sysapps/manifest"
                }, {
                    value: "File a bug.",
                    href: "https://github.com/sysapps/manifest/issues"
                }, {
                    value: "Commit history.",
                    href: "https://github.com/sysapps/manifest/commits/gh-pages"
                }
            ]
        }
    ],
    inlineCSS: true,
    noIDLIn: true,
    noLegacyStyle: false,
    extraCSS: ["../ReSpec.js/css/respec.css"],
    wg: "Web Applications (WebApps) Working Group",
    wgURI: "http://www.w3.org/2008/webapps/",
    wgPublicList: "public-webapps",
    wgPatentURI: "http://www.w3.org/2004/01/pp-impl/42538/status"
    };
    </script>
    <style class='remove'>
a:not(href){ color: red }
    li{
        padding: .5em 0;
    }
    </style>
  </head>
  <body>
    <section id='abstract'>
      <p>
        This specification defines an <dfn>application manifest</dfn>, which is
        a JSON document that describes various aspects of a web application. A
        user agent can make use of an application manifest to, for example,
        provide enhanced bookmarking capabilities like adding the name and icon
        of a Web application to the home screen of a device. This specification
        also defines the <code>appconfig</code> HTML attribute, which allows a
        document to be associated with an application manifest.
      </p>
    </section>
    <section id="sotd">
      <p>
        Implementors should be aware that this specification is not stable.
        <strong>Implementors who are not taking part in the discussions are
        likely to find the specification changing out from under them in
        incompatible ways.</strong> Vendors interested in implementing this
        specification before it eventually reaches the Candidate Recommendation
        stage should join the aforementioned mailing lists and take part in the
        discussions.
      </p>
    </section>
    <section id="conformance">
      <p>
        There is only one class of product that can claim conformance to this
        specification: a <dfn>user agent</dfn>.
      </p>
    </section>
    <section id="linking">
      <h2>
        Linking to a manifest
      </h2>
      <p>
        A [[!HTML]] <a href=
        "http://www.whatwg.org/specs/web-apps/current-work/#the-link-element"><code>
        link</code></a> element that has a <a>link type</a>
        <code>manifest</code> associates a manifest with a document.
      </p>
      <p>
        In cases where more than one <a href=
        "http://www.whatwg.org/specs/web-apps/current-work/#the-link-element"><code>
        link</code></a> element with a <code>manifest</code> link type appears
        in a <code>document</code>, the user agent MUST use the first inserted
        link element and ignore all subsequent <a href=
        "http://www.whatwg.org/specs/web-apps/current-work/#the-link-element"><code>
        link</code></a> elements with a <code>manifest</code> link type (even
        if the first element was in error).
      </p>
      <p>
        Authoring requirement: In a [[HTML]] document, there must not be more
        than one link element whose <a title="manifest link type">link type
        contains <code>manifest</code></a>.
      </p>
      <section>
        <h3>
          Link type
        </h3>
        <table border="1">
          <tr>
            <th rowspan="2">
              Link type
            </th>
            <th colspan="2">
              Effect on...
            </th>
            <th rowspan="2">
              Brief description
            </th>
          </tr>
          <tr>
            <th>
              <code><a href="#the-link-element">link</a></code>
            </th>
            <th>
              <code><a href="#the-a-element">a</a></code> and <code><a href=
              "#the-area-element">area</a></code>
            </th>
          </tr>
          <tr>
            <td>
              <code title="rel-manifest">manifest</code>
            </td><!-- second most used <link rel> value -->
            <td>
              <a href=
              "http://www.whatwg.org/specs/web-apps/current-work/#external-resource-link"
              title="external resource link">External Resource</a>
            </td>
            <td>
              <a href=
              "http://www.whatwg.org/specs/web-apps/current-work//#hyperlink">Hyperlink</a>
            </td>
            <td>
              Imports or links to an application manifest.
            </td>
          </tr>
        </table>
      </section>
      <section>
        <h3>
          Link type "<code>manifest</code>"
        </h3>
        <p>
          The <code>manifest</code> keyword can be used with a <a href=
          "http://www.whatwg.org/specs/web-apps/current-work/#the-link-element">
          link</a> element. This keyword creates an <a href=
          "http://www.whatwg.org/specs/web-apps/current-work/#external-resource-link"
          title="external resource link">external resource link</a>.
        </p>
        <p>
          The default type for resources given by the <code>manifest</code>
          keyword is the <a>media type for an application manifests</a>,
          represented by the string
          <code>application/webapp-manifest+json</code>.
        </p>
        <p>
          The appropriate time to <a href=
          "http://www.whatwg.org/specs/web-apps/current-work/#concept-link-obtain"
          title="concept-link-obtain">obtain</a> the resource is when the
          <a href=
          "http://www.whatwg.org/specs/web-apps/current-work/#external-resource-link"
          title="external resource link">external resource link</a> is created
          or when its element is <a href=
          "http://www.whatwg.org/specs/web-apps/current-work/#insert-an-element-into-a-document"
          title="insert an element into a document">inserted into a
          document</a>, whichever happens last. However, a user agents may opt
          to delay <a href=
          "http://www.whatwg.org/specs/web-apps/current-work/#concept-link-obtain"
          title="concept-link-obtain">obtaining</a> a manifest until after the
          document and its other resources have loaded (i.e., to not delay the
          availability of content and scripts required by the
          <code>document</code>).
        </p>
      </section>
      <section class="informative">
        <h3>
          Associating a document with a manifest
        </h3>
        <pre class="example highlight html">
&lt;!doctype html&gt;
&lt;html&gt;
&lt;title&gt;My Awesome Application&lt;/title&gt;
&lt;link rel="manifest" href="awesome.webapp"&gt;
...
</pre>
      </section>
      <section class="informative">
        <h3>
          Linking to an external manifest
        </h3>
        <pre class="example highlight html">
&lt;!doctype html&gt;
&lt;html&gt;
&lt;title&gt;The Sports Store&lt;/title&gt;
&lt;!-- install this app --&gt; 
&lt;link rel="manifest" href="manifest.json"&gt;
&lt;body&gt;
&lt;h1&gt;The Sports Store&lt;/h1&gt;
&lt;dl&gt;
  &lt;dt&gt;Sporty App&lt;/dl&gt;
  &lt;dd&gt;  
    &lt;a href="http://example.com/cycling/manifest" 
       rel="manifest"&gt;
      Install Cycling App! 
    &lt;/a&gt;
  &lt;/dd&gt;
&lt;/dl&gt;
</pre>
      </section>
    </section>
    <section>
      <h2>
        Application Manifest
      </h2>
      <p>
        An <a>application manifest</a> consists of a top-level object (the
        application manifest <dfn>root</dfn>) and one or more members, some of
        which contain other objects.
      </p>
      <section class="informative">
        <h3>
          Example application manifest
        </h3>
        <p>
          The following shows a typical <a>application manifest</a>.
        </p>
        <pre class="example highlight">
{
    "name": "The Example App",
    "short_name": "Example",
    "description": "Exciting Open Web development action!",
    "launch_path": "/",
    "version": "1.0",
    "icons": [{
        "src": "icon/lowres",
        "density": "1",
        "width": "64",
        "height": "64",
        "type": "image/webp"
    }, {
        "src": "icon/hd",
        "density": "2",
        "width": "64",
        "height": "64"
    }],
    "developer": {
        "name": "Foo Corp.",
        "url": "http://example.org/dev"
    },
    "appcache_path": "/cache.manifest",
    "locales": {
        "es": {
            "description": "¡Acción abierta emocionante del desarrollo del Web!",
            "developer": {
                "url": "https://example.org/dev/es-ES"
            }
        }
    },
    "default_locale": "en",
    "screen_size": {
        "min_width": "600",
        "min_height": "300"
    },
    "permissions": {
        "contacts": {
            "description": "Required for auto-completion in the share screen",
            "access": "read"
        }
    },
    "fullscreen": "true",
    "release_notes": {
        "1.0": "Bugs fixed. New exciting effects. Ready for an official release!",
        "0.5": "First alpha version with still some bugs but already fun!"
    }
}
</pre>
      </section>
    </section>
    <section>
      <h2>
        Processing the application manifest
      </h2>
      <p id="ecmascript-abstractop">
        Algorithms in this section use the conventions described in <a class=
        "external" href=
        "http://people.mozilla.org/~jorendorff/es6-draft.html#sec-5.2">ECMA-262
        section 5.2</a>, such as the use of steps and substeps, and so on. The
        <a class="external" href=
        "http://people.mozilla.org/~jorendorff/es6-draft.html#sec-9.1.2"><dfn>ToBoolean</dfn></a>,
        <a class="external" href=
        "http://people.mozilla.org/~jorendorff/es6-draft.html#sec-9.1.3"><dfn>ToNumber</dfn></a>,
        <a class="external" href=
        "http://people.mozilla.org/~jorendorff/es6-draft.html#sec-9.1.7"><dfn>ToUint16</dfn></a>,
        <a class="external" href=
        "http://people.mozilla.org/~jorendorff/es6-draft.html#sec-9.1.5"><dfn>ToInt32</dfn></a>,
        <a class="external" href=
        "http://people.mozilla.org/~jorendorff/es6-draft.html#sec-9.1.6"><dfn>ToUint32</dfn></a>,
        <a class="external" href=
        "http://people.mozilla.org/~jorendorff/es6-draft.html#sec-9.1.8"><dfn>ToString</dfn></a>,
        and <a class="external" href=
        "http://people.mozilla.org/~jorendorff/es6-draft.html#sec-9.1.9"><dfn>ToObject</dfn></a>
        abstract operations and the <a class="external" href=
        "http://people.mozilla.org/~jorendorff/es6-draft.html#sec-8">Type(<var>x</var>)</a>
        notation referenced in this section are defined in [[!ECMA-262-51]]. In
        the algorithms, to <dfn>ignore</dfn> means that the user agent MUST act
        as if the author had not declared the particular member in the
        application manifest document.
      </p>
      <p>
        Certain error conditions can result in an <a>application manifest</a>
        being treated as an <a>invalid application manifest</a>. An
        <dfn>invalid application manifest</dfn> is an application manifest that
        is deemed to be non-conforming in such a way that it would not be
        possible for the user agent to continue processing (e.g., it can't be
        parsed by the JSON parser because of a syntax error). In such a case,
        the user agent MAY report the error to the user in a
        user-agent-specific manner, MAY <a href=
        "http://www.whatwg.org/specs/web-apps/current-work/#navigate">navigate</a>
        to an error page to report the error, or MAY ignore the error and do
        nothing. In either case, when a step results in an <a>invalid
        application manifest</a> the user agent MUST abort whatever step or
        substep caused the condition.
      </p>
      <p>
        The <dfn>steps for processing an application manifest</dfn> are given
        by the following algorithm.
      </p>
      <ol>
        <li>Let <var>text</var> be the result of <a href=
        "http://www.whatwg.org/specs/web-apps/current-work/#concept-link-obtain"
          title="concept-link-obtain">obtaining</a> the application manifest.
          If the process aborts, terminate this algorithm.
        </li>
        <li>Let <var>manifest</var> be the result of invoking the <a href=
        "https://people.mozilla.com/~jorendorff/es6-draft.html#sec-15.12.2">parse</a>
        function of the JSON object defined in [[!ECMASCRIPT]] with
        <var>text</var> as its only argument. If parsing throws an exception,
        then treat this application manifest as an <a>invalid application
        manifest</a>.
        </li>
        <li>Let <var>default locale</var> be the result of running the <a>steps
        for processing the <code>default_locale</code> member</a>.
          <ol>
            <li>If <var>default locale</var> is not <var>undefined</var>:
              <ol>
                <li>from <var>default locale</var>.
                </li>
                <li>If there is no occurance of <var>default locale</var> in
                the application locales list, then insert <var>default
                locale</var> immediately before the last item of the
                <var>application locale list</var>.
                  <p>
                    For example, given <var>default locale</var> "jp", and an
                    <var>application locale list</var> containing "en-US,*",
                    then the application locale list would become ["en-US",
                    "jp", "*"].
                  </p>
                </li>
              </ol>
            </li>
          </ol>
        </li>
        <li>Let <var>short name</var> be the result of running the <a>steps for
        processing the <code>short_name</code> member</a>.
        </li>
        <li>Let <var>name</var> be the result of running the <a>steps for
        processing the <code>name</code> member</a>.
        </li>
        <li>Let <var>launch path</var> be the result of running the <a>steps
        for processing the <code>launch_path</code> member</a>.
        </li>
        <li>Let <var>description</var> be the result of running the <a>steps
        for processing the <code>description</code> member</a>.
        </li>
        <li>...
        </li>
        <li>Optionally, <a>ignore</a> all other members.
        </li>
      </ol>
      <section>
        <h3>
          Types and bindings
        </h3>
        <p>
          As the application manifest format is a [[!JSON]] document, this
          doucment relies on the types defined in [[!JSON]] specification:
          namely <dfn id="json-object">object</dfn>, <dfn id=
          "json-array">array</dfn>, <dfn id="json-number">number</dfn>, and
          <dfn id="json-string">string</dfn>. Strict type checking is not
          enforced by this specification. Instead, each member's definition
          specifies the steps to required to process a particular member.
        </p>
        <p>
          In additon, for the purpose of validity checking, this specification
          relies on the the following types:
        </p>
        <dl>
          <dt>
            <dfn>Relative URL</dfn>
          </dt>
          <dd>
            The concept of a relative URL is defined in the [[!URL]]
            specification.
          </dd>
          <dt>
            <dfn>Absolute URL</dfn>
          </dt>
          <dd>
            The concept of an absolute URL is defined in the [[!URL]]
            specification.
          </dd>
        </dl>
      </section>
      <section>
        <h3>
          Internationalization and localization
        </h3>
        <p>
          The <dfn>user agent's locales</dfn> is an ordered list of <a title=
          "language tag">language tags</a> that are used to represent the
          end-user's language(s) and localization preference for experiencing
          content; these are essentially equivalent to the language tags sent
          by the user agent through the <code>Accept-Language</code> [[HTTP11]]
          header, but without the quality values.
        </p>
        <p>
          The case sensitivity and case mapping for language tags is the same
          as that defined in section 6.1 of the <cite>ECMAScript
          Internationalization API Specification</cite> [[!ECMASCRIPT-I18N]].
        </p>
        <p>
          As there are numerous ways a user agent can derive the end-user's
          preferred languages and regional settings (e.g., the end user might
          have set them in the user agent's preferences), the means by which
          those values are derived are left up to the implementation. The first
          item of the <a>user agent's locales</a> represents the user's most
          preferred language range (i.e., the language/region combination the
          user agent assumes the end-user most prefers), followed by the next
          most preferred language range, and so forth.
        </p>
        <p>
          A <dfn>language tag</dfn> is a string that matches the production of
          a <code>Language-Tag</code> defined in the [[!BCP47]] specifications
          (see the <a href=
          "http://www.iana.org/assignments/language-subtag-registry">IANA
          Language Subtag Registry</a> for an authoritative list of possible
          values, see also the <a href=
          "http://www.iso.org/iso/country_codes/iso_3166_code_lists/country_names_and_code_elements">
          Maintenance Agency for ISO 3166 country codes</a>). That is, a
          language range is composed of one or more <dfn>subtags</dfn> that are
          delimited by a U+002D HYPHEN-MINUS ("-"). For example, the
          '<code>en-AU</code>' language range represents English as spoken in
          Australia, and '<code>fr-CA</code>' represents French as spoken in
          Canada. Language tags that meet the validity criteria of [[!RFC5646]]
          section 2.2.9 that can be verified without reference to the IANA
          Language Subtag Registry are considered structurally valid.
        </p>
        <p>
          The <dfn>CanonicalizeLocaleList</dfn>, <dfn>BestAvailableLocale</dfn>
          <dfn>LookupMatcher,</dfn> <dfn>BestFitMatcher</dfn>,
          <dfn>ResolveLocale</dfn>, <dfn>LookupSupportedLocales</dfn>
          <dfn>BestFitSupportedLocales</dfn> <dfn>SupportedLocales</dfn>.
        </p>
      </section>
      <section>
        <h3>
          Localizable members
        </h3>
        <p>
          A <dfn>localizable member</dfn> is member of the <a>application
          manifest</a> that can appear in the <var>locales</var> member.
        </p>
        <p>
          The <dfn>steps for retrieving a localizable member from the
          application manifest</dfn> are given by the following algorithm. The
          algorithm prioritizes returning the localized version of a member
          over one where the locale is unknown. The algorithm returns either a
          value from the namifest or <code>undefined</code>.
        </p>
        <ol>
          <li>Let <var>manifest</var> be the JSON-parsed object representation
          of the <a>application manifest</a>.
          </li>
          <li>Let <var>default app locale</var> be the string that represents
          the default locale for the application manifest.
          </li>
          <li>Let <var>identifier</var> be a string that represents the name of
          the member being sought.
          </li>
          <li>Let <var>locales list</var> be a copy of the <a>user agent's
          locales</a>.
          </li>
          <li>If <var>default app locale</var> is not <code>undefined</code>,
          append <var>default app locale</var> to <var>locales list</var>.
          </li>
          <li>If the application manifest has a property whose name is
          <code>"locales</code>", then for each <var>range</var> in the
          <var>locales list</var> in order:
            <ol>
              <li>If the "<code>locales</code>" property has a property whose
              identifier matches <var>range</var>, then:
                <ol>
                  <li>if return the value of the matching property and
                  terminate this algorithm.
                  </li>
                </ol>
              </li>
              <li>Otherwise, if the "<code>locales</code>" property has a
              property whose identifier matches the <var>default app
              locale</var>, then return the value of the matching property and
              terminate this algorithm.
              </li>
            </ol>
          </li>
          <li>If the application manifest<a>root</a> has its own property named
          <var>prop</var>, return the value of the property.
          </li>
          <li>Return <code>undefined</code>.
          </li>
        </ol>
      </section>
      <section>
        <h3>
          <code title="">name</code> member
        </h3>
        <p>
          The <dfn id="propdef-name"><code>name</code></dfn> <a>localizable
          member</a> is a string that represents the name of the hosted web
          application or packaged application, that is used, for example, in an
          application menu or in other contexts.
        </p>
        <p>
          Authoring requirement: it is strongly recommended that authors
          inlcude a name for the application in at the root of the manifest.
        </p>
        <p class="note">
          Note: The <code>name</code> member needs to be present in the
          application manifest for the user agent to treat an application
          manifest as valid.
        </p>
        <p>
          The <dfn>steps for processing the name member</dfn> is given by the
          following algorithm. The algorithm takes an application manifest as
          an argument and returns either an error or a string:
        </p>
        <ol>
          <li>Let <var>key</var> be the string "<code>name</code>".
          </li>
          <li>Let <var>value</var> be the result of running the <a>steps for
          retrieving a localizable member from the application manifest</a>,
          with <var>key</var> as the member being sought.
          </li>
          <li>Optionally, if <var>value</var> is null or undefined, then let
          <var>value</var> be an implementation specific string that can serve
          as a suitable name for the application. For example, if the manifest
          was obtained from link element, then the document's title could be
          used or the user could be prompted to provide a custom name.
          </li>
          <li>Let <var>result</var> be the result of calling
          <a>ToString</a>(<var>value</var>).
          </li>
          <li>Return the <var>result</var>.
          </li>
        </ol>
      </section>
      <section>
        <h3>
          <code title="">short_name</code> member
        </h3>
        <p>
          The <dfn id="propdef-short-name"><code>short_name</code></dfn>
          <a>localizable member</a> is a string that represents a condensed
          name of the application that can be used in context where space is
          constrained (e.g., underneath an icon on the home screen of a
          device).
        </p>
        <p>
          Authoring guidelines: Authors should only use a short name if it has
          less characters than the value of the <code>name</code> member. Using
          the <code>name</code> member is preferred over a short name.
        </p>
        <p>
          The <dfn>steps for processing the short name member</dfn> is given by
          the following algorithm. The algorithm takes an application manifest
          as an argument and returns a string:
        </p>
        <ol>
          <li>Let <var>key</var> be the string "<code>short_name</code>".
          </li>
          <li>Let <var>value</var> be the result of running the <a>steps for
          retrieving a localizable member from the application manifest</a>,
          with <var>key</var> as the member being sought.
          </li>
          <li>Let <var>result</var> be the result of calling
          <a>ToString</a>(<var>value</var>).
          </li>
          <li>Return the <var>result</var>.
          </li>
        </ol>
      </section>
      <section>
        <h3>
          <code title="">description</code> member
        </h3>
        <p>
          The <dfn id="propdef-description"><code>description</code></dfn>
          <a>localizable member</a> is a string that describes to the end-user
          the author's intended purpose for the application (i.e., what the
          function and utility of the application is, etc.).
        </p>
        <p>
          The <dfn>steps for processing the description member</dfn> are given
          by the following algorithm. The algorithm takes an application
          manifest as an argument and returns a string or
          <code>undefined</code>:
        </p>
        <ol>
          <li>Let <var>key</var> be the string "<code>description</code>".
          </li>
          <li>Let <var>result</var> be <code>undefined</code>.
          </li>
          <li>Let <var>value</var> be the result of running the <a>steps for
          retrieving a localizable member from the application manifest</a>,
          with <var>key</var> as the member being sought.
          </li>
          <li>If <var>value</var> is not <code>undefined</code>, let
          <var>result</var> be <a>ToString</a>(<var>value</var>).
          </li>
          <li>Return <var>result</var>.
          </li>
        </ol>
      </section>
      <section>
        <h3>
          <code title="">default_locale</code> member
        </h3>
        <p>
          The <dfn id="propdef-default_locale">default_locale</dfn> member is a
          <a>language tag</a> that represents:
        </p>
        <ul>
          <li>The locale of the content of members at the root of the
          application manifest.
          </li>
          <li>The default locale that the user agent will use in case the
          <a>user agent's locales</a> do not match any localized members.
          </li>
        </ul>
        <p>
          When the <code>default_locale</code> member is missing or in error,
          the content at the root of the application manifest is said to have
          an <dfn>unknown locale</dfn>.
        </p>
        <p>
          The <dfn>steps for processing the <code>default_locale</code>
          member</dfn> are given by the following algorithm. The algorithm
          takes the JSON-parsed application <var>manifest</var> as an argument.
          The algorithm returns a string, which is either a <a>language tag</a>
          or the string "*" (which is used to represent an <a>unknown
          locale</a>).
        </p>
        <ol>
          <li>Let <var>result</var> be "*".
          </li>
          <li>Let <var>key</var> be "<code>default_locale</code>".
          </li>
          <li>Let <var>present</var> be the result of calling
          [[\HasOwnProperty]] internal method of <var>manifest</var> with
          argument <var>key</var>.
          </li>
          <li>If <var>present</var> is <var>true</var>:
            <ol>
              <li>Let <var>value</var> be the result of calling the
              [[\GetOwnProperty]] internal method of <var>manifest</var>
              passing <var>key</var> as the argument.
              </li>
              <li>Let <var>tag</var> be <a>ToString</a>(<var>value</var>).
              </li>
              <li>Let <var>valid tag</var> the result of calling the abstract
              operation <a>IsStructurallyValidLanguageTag</a> with
              <var>tag</var> as the argument.
              </li>
              <li>If <var>valid tag</var> is <code>true</code>, then:
                <ol>
                  <li>Let <var>result</var> be the result of calling the
                  abstract operation <a href=
                  "http://www.ecma-international.org/ecma-402/1.0/#sec-6.2.3">
                    CanonicalizeLanguageTag</a>, passing <em>tag</em> as the
                    argument.
                  </li>
                </ol>
              </li>
            </ol>
          </li>
          <li>Return <var>result</var>.
          </li>
        </ol>
      </section>
      <section>
        <h3>
          <code>launch_path</code> member
        </h3>
        <p>
          The <dfn id="propdef-launch_path">launch_path</dfn> localizable
          member is a <a>relative URL</a> that represents a resource within the
          <a>origin of the application</a> that is <a href=
          "http://www.w3.org/html/wg/drafts/html/master/single-page.html#browsers">
          loaded</a> when the application is <a>launched</a>.
        </p>
        <p>
          The <dfn>steps for processing the <code>launch_path</code>
          member</dfn> are given by the following algorithm. The algorithm
          returns either a string, and error, or <code>undefined</code>.
        </p>
        <ol>
          <li>Let <var>result</var> be <code>undefined</code>.
          </li>
          <li>Let <var>key</var> be the string "<code>launch_path</code>".
          </li>
          <li>Let <var>present</var> be the result of calling
          [[\HasOwnProperty]] internal method of <var>manifest</var> with
          argument <var>key</var>.
          </li>
          <li>If present is <code>true</code>:
            <ol>
              <li>Let <var>path</var> be <a>ToString</a>(<var>value</var>).
              </li>
              <li>Let <var>url</var> be the result of <a href=
              "http://url.spec.whatwg.org/#parsing">parsing</a>
              <var>path</var>.
              </li>
              <li>If <var>url</var> is not a <a href=
              "http://url.spec.whatwg.org/#concept-absolute-url">relative
              URL</a>, then return an error and terminate this algorithm.
              </li>
              <li>Set <var>result</var> to be the value of <var>url</var>.
              </li>
            </ol>
          </li>
          <li>Return <var>result</var>.
          </li>
        </ol>
      </section>
      <section>
        <h3>
          <code title="">icons</code> member
        </h3>
        <p>
          The <dfn id="propdef-icons">icons</dfn> <a>localizable member</a> is
          a list of <a>icon objects</a> that represents a set of icons that the
          application can make use.
        </p>
      </section>
      <section>
        <h3>
          <code>developer</code> member
        </h3>
        <p>
          The <dfn id="propdef-developer">developer</dfn> <a>localizable
          member</a> is a <a>developer object</a> that represents the person,
          persons, or entity that created the application.
        </p>
      </section>
      <section>
        <h3>
          <code title="">locales</code> member
        </h3>
        <p>
          The <dfn id="propdef-locales">locales</dfn> member is a
          <a>localized-data object</a> represents the localized data of the
          application manifest.
        </p>
      </section>
      <section>
        <h3>
          <code>appcache_path</code> member
        </h3>
        <p>
          The <dfn id="propdef-appcache_path">appcache_path</dfn>
          <a>localizable member</a> is an <a>relative URL</a> that represents a
          resource to be used as the application's cache manifest
          [[!OFFLINE-WEBAPPS]].
        </p>
        <p>
          The <dfn>steps for processing the <code>appcache_path</code>
          member</dfn> are given by the following algorithm. The algorithm
          returns either a string, and error, or <code>undefined</code>.
        </p>
        <ol>
          <li>Let <var>result</var> be <code>undefined</code>.
          </li>
          <li>Let <var>key</var> be the string "<code>appcache_path</code>".
          </li>
          <li>Let <var>present</var> be the result of calling
          [[\HasOwnProperty]] internal method of <var>manifest</var> with
          argument <var>key</var>.
          </li>
          <li>if <var>present</var> is <code>true</code>:
            <ol>
              <li>Let <var>path</var> be <a>ToString</a>(<var>value</var>).
              </li>
              <li>Let <var>url</var> be the result of <a href=
              "http://url.spec.whatwg.org/#parsing">parsing</a>
              <var>path</var>.
              </li>
              <li>If <var>url</var> is not a <a href=
              "http://url.spec.whatwg.org/#concept-absolute-url">absolute
              URL</a>, then return an error and terminate this algorithm.
              </li>
              <li>Set <var>result</var> to be the value of <var>url</var>.
              </li>
            </ol>
          </li>
          <li>Return <var>result</var>.
          </li>
        </ol>
      </section>
      <section>
        <h3>
          <code>version</code> member
        </h3>
        <p>
          The <dfn id="propdef-version">version</dfn> <a>localizable member</a>
          is a string represents the version of the application as designated
          by the author. The version has no specific meaning in the context of
          this specification; it's utility is solely for informative purposes.
        </p>
        <p>
          The <dfn>steps for processing the <code>version</code> member</dfn>
          is given by the following algorithm. The algorithm returns either
          undefined or a string:
        </p>
        <ol>
          <li>Let <var>result</var> be <code>undefined</code>.
          </li>
          <li>Let <var>key</var> be the string "<code>version</code>".
          </li>
          <li>Let <var>present</var> be the result of calling
          [[\HasOwnProperty]] internal method of <var>manifest</var> with
          argument <var>key</var>.
          </li>
          <li>If <var>present</var> is <code>true</code>:
            <ol>
              <li>Let <var>value</var> be the result of running the <a>steps
              for retrieving a localizable member from the application
              manifest</a>, with <var>key</var> as the member being sought.
              </li>
              <li>Let <var>result</var> be the result of calling
              <a>ToString</a>(<var>value</var>).
              </li>
            </ol>
          </li>
          <li>Return the <var>result</var>.
          </li>
        </ol>
      </section>
      <section>
        <h3>
          <code title="">screen_size</code> member
        </h3>
        <p>
          The <dfn id="propdef-screen_size">screen_size</dfn> member is a
          <a>screen sizes object</a> that represents the minimum visual
          dimensions (in <a href=
          "http://www.w3.org/TR/2008/REC-CSS2-20080411/syndata.html#length-units">
          CSS pixels</a> [[!CSS21]]) the application needs to render correctly.
        </p>
        <p class="issue">
          ISSUE: This should probably be dropped. If a user zooms in, or even
          if the screen is too small, then this won't really help. This is also
          meaningless when the application is full screen. Also, this needs to
          play with @viewport and meta viewport.
        </p>
      </section>
      <section>
        <h3>
          <code title="">fullscreen</code> member
        </h3>
        <p>
          The <dfn id="propdef-fullscreen">fullscreen</dfn> localizable member
          is a <a>boolean</a> that represents a hint to the user agent that
          indicates that the application provides the best user experience when
          shown in fullscreen (i.e., the application is presented without any
          use interface components of the underlying system). When the value is
          missing, it defaults to <var>false</var>.
        </p>
        <p>
          The <dfn>steps for processing the <code>fullscreen</code>
          member</dfn> are given by the following algorithm:
        </p>
        <ol>
          <li>Let <var>value</var> be the value of the <var>fullscreen</var>
          member or f<var>alse</var> if the value is missing.
          </li>
          <li>Let <var>result</var> of calling <a>ToBoolean</a>(value).
          </li>
          <li>return <var>result</var>.
          </li>
        </ol>
      </section>
      <section>
        <h3>
          <code title="">release_notes</code> member
        </h3>
        <p>
          The <dfn id='propdef-relnotes'>release_notes</dfn> <a>localizable
          member</a> is a <a>release notes object</a> that represents a change
          history for the application from one version to another.
        </p>
      </section>
      <section>
        <h3>
          <code title="">permissions</code> member
        </h3>
        <p>
          The <dfn id="propdef-permisssions">permissions</dfn> <a>localizable
          member</a> is a <a>permissions object</a> that represents a list of
          permissions that the application requires to function.
        </p>
      </section>
      <section>
        <h2>
          Release notes object and its members
        </h2>
        <p>
          A <dfn>Release notes object</dfn> ...
        </p>
      </section>
      <section>
        <h2>
          Permissions object and its members
        </h2>
        <p>
          The permissions object...An application SHOULD list every API that is
          considered to require user permission in this field. Usage of an API
          without a corresponding entry in the application manifest SHOULD
          fail. The field is an object, with each property name specifying a
          single permission, and object containing the following fields:
        </p>
        <section>
          <h3>
            Description member
          </h3>
          <p>
            The <dfn id="propdef-permissions-desc">description</dfn> member
            represents a human readable string specifying the intent behind
            requesting use of this API.
          </p>
          <p>
            ISSUE: This seems unhelpful. The developer can just lie.
          </p>
        </section>
        <section>
          <h3>
            access member
          </h3>
          <p>
            The <dfn id="propdef-permissions-access">access</dfn> is a string
            describing the type of access required for this permission. This
            field can be mandatory for a certain subset of permissions. Its
            value is one of:
          </p>
          <dl>
            <dt>
              <dfn>read</dfn>:
            </dt>
            <dd>
              ...
            </dd>
            <dt>
              <dfn>readwrite</dfn>:
            </dt>
            <dd>
              ...
            </dd>
            <dt>
              <dfn>readcreate</dfn>:
            </dt>
            <dd>
              ...
            </dd>
            <dt>
              <dfn>createonly</dfn>:
            </dt>
            <dd>
              ...
            </dd>
          </dl>
        </section>
      </section>
      <section>
        <h2>
          Icon object and its members
        </h2>
        <p>
          Each <dfn>icons object</dfn> represents an icon for an application
          suitable to use at some dimensions and screen density.
        </p>
        <section>
          <h3>
            width member
          </h3>
          <p>
            A numeric value that represents the width of the icon in CSS pixels.
          </p>
        </section>
        <section>
          <h3>
            height member
          </h3>
          <p>
            A numeric value that represents the height of the icon in CSS pixels.
          </p>
        </section>
        <section>
          <h3>
            density member
          </h3>
          <p>
            The preferred pixel density, given as real number, for which this
            icon was designed to be shown.
          </p>
        </section>
        <section>
          <h3>
            src member
          </h3>
          <p>A URL that is the address of the resource.</p>
        </section>
        <section>
          <h3>
            type member
          </h3>
          <p>
            The MIME media type of resource the src member refers to. 
          </p>
        </section>
      </section>
      <section>
        <h2>
          Screen size object and its members
        </h2>
        <p>
          The screen size object . The screen sizes object values are only hint
          for the user agent
        </p>
      </section>
      <section>
        <h2>
          Localized-data object and its members
        </h2>
        <p>
          The localized-data object contains specific overrides of data
          contained in the <a>application manifest</a>.
        </p>
        <section>
          <h3>
            Members
          </h3>
          <p>
            Each locale key is a <a>langauge tag</a>, and contains a sparse
            representation of localized parts of the application manifest. The
            data of the <a>locales</a> members override the corresponding
            member in a localized user interface.
          </p>
          <p>
            The user agent MAY ignore some values if localizing the property
            doesn't appear to be legit.
          </p>
          <p>
            It is RECOMMENDED that the <a>locales</a> keys match the actual
            content localization to give a hint to the user that the
            application will be available in their language or not. Failing to
            provide a perfect matching between the content localization and the
            <a>locales</a> keys will not create any technical problems but will
            have bad consequences with regard to the user experience and
            developer reputation.
          </p>
          <p>
            Note: if the <a>locales</a> property is set, the
            <a>default_locale</a> needs to also be set.
          </p>
        </section>
      </section>
      <section>
        <h2>
          Developer object and its members
        </h2>
        <section>
          <h3>
            <code title="">name</code> member
          </h3>
          <p>
            The <dfn id="propdef-developer-name">name</dfn> member of the
            <a>developer object</a> represents the name of the developer.
          </p>
          <p>
            The <dfn>steps for processing the name member of the developer
            object</dfn> is given by the following algorithm. The algorithm
            returns <code>undefined</code> or a string:
          </p>
          <ol>
            <li>Let <var>O</var> be the result of running the <a>steps for
            retrieving a localizable member from the application manifest</a>,
            with "<var>developer"</var> as the member being sought.
            </li>
            <li>Let <var>result</var> be <code>undefined</code>.
            </li>
            <li>If Type(O) is "Object".
            </li>
            <li>Set <var>result</var> be the result of calling
            <a>ToString</a>(<var>value</var>).
            </li>
            <li>Return the <var>result</var>.
            </li>
          </ol>
        </section>
        <section>
          <h3>
            url member
          </h3>
          <p>
            The <dfn id="propdef-url">url</dfn> an URL pointing to the
            developer's website.
          </p>
        </section>
      </section>
      <section>
        <h2>
          Media Type
        </h2>
        <p>
          This section contains the required text for MIME media type
          registration with IANA.
        </p>
        <p>
          The <dfn>media type for an application manifests</dfn> is
          <code>application/webapp-manifest+json</code>.
        </p>
        <p>
          If the protocol over which the application manifest is transferred
          supports the [[!MIME-TYPES]] specification (e.g. [[!HTTP11]]), it is
          RECOMMENDED that the application manifest be labeled with the
          <a>media type for an application manifests</a>.
        </p>
        <dl>
          <dt>
            Type name:
          </dt>
          <dd>
            application
          </dd>
          <dt>
            Subtype name:
          </dt>
          <dd>
            webapp-manifest+json
          </dd>
          <dt>
            Required parameters:
          </dt>
          <dd>
            N/A
          </dd>
          <dt>
            Optional parameters:
          </dt>
          <dd>
            N/A
          </dd>
          <dt>
            Encoding considerations:
          </dt>
          <dd>
            Same as for application/json
          </dd>
          <dt>
            Security considerations:
          </dt>
          <dd>
            <p>
              As the application manifest format is JSON and will commonly be
              encoded using [[!UNICODE]], the security considerations described
              in [[!JSON]] and [[!UNICODE-SECURITY]] apply. In addition,
              implementers need to impose their own implementation-specific
              limits on the values of otherwise unconstrained member types,
              e.g. to prevent denial of service attacks, to guard against
              running out of memory, or to work around platform-specific
              limitations.
            </p>
            <p>
              The application manifest document allows authors, through the
              permissions and <code>permissions</code> members, to request
              permission to enable security sensitive APIs. As these APIs are
              outside the scope of this specification, significant caution
              needs to be taken when granting an application the capability to
              use a feature. The relevant APIs define their own security
              considerations (see the <a href=
              "http://www.w3.org/2012/sysapps/#roadmap">System Applications
              Working Group's APIs</a>).
            </p>
            <p>
              Web applications will generally contain ECMAscript, HTML, CSS
              files, and other media, which are executed in a sand-boxed
              environment. As such, implementers need to be aware of the
              security implications for the types they support. Specifically,
              implementers need to consider the security implications outlined
              in the [[!CSS-MIME]] specification, the [[!ECMAScript-MIME]]
              specification, and the [[!HTML]] specification.
            </p>
            <p>
              As web applications can contain content that is able to
              simultaneously interact with the local device and a remote host,
              implementers need to consider the privacy implications resulting
              from exposing private information to a remote host. Mitigation
              and in-depth defensive measures are an implementation
              responsibility and not prescribed by this specification. However,
              in designing these measures, implementers are advised to enable
              user awareness of information sharing, and to provide easy access
              to interfaces that enable revocation of permissions.
            </p>
            <p>
              As this specification allows for the declaration of IRIs within
              certain members of a the application manifest, implementers need
              to consider the security considerations discussed in the [IRI]
              specification. Implementations intending to display <abbr title=
              "Internationalized Resource Identifiers">IRIs</abbr> and
              <abbr title="Internationalized domain name">IDNA</abbr> addresses
              found in the application manifest are strongly encouraged to
              follow the security advice given in [[!UNICODE-SECURITY]].
            </p>
          </dd>
          <dt>
            Applications that use this media type:
          </dt>
          <dd>
            Web browsers
          </dd>
          <dt>
            Additional information:
          </dt>
          <dd>
            <dl>
              <dt>
                Magic number(s):
              </dt>
              <dd>
                N/A
              </dd>
              <dt>
                File extension(s):
              </dt>
              <dd>
                .webapp
              </dd>
              <dt>
                Macintosh file type code(s):
              </dt>
              <dd>
                TEXT
              </dd>
            </dl>
          </dd>
          <dt>
            Person &amp; email address to contact for further information:
          </dt>
          <dd>
            The <a href="http://www.w3.org/2008/webapps/" rel="nofollow">Web
            Applications (WebApps) Working Group</a> can be contacted at
            <a href="http://lists.w3.org/Archives/Public/public-webapps/" rel=
            "nofollow">public-webapps@w3.org</a>.
          </dd>
          <dt>
            Intended usage:
          </dt>
          <dd>
            COMMON
          </dd>
          <dt>
            Restrictions on usage:
          </dt>
          <dd>
            none
          </dd>
          <dt>
            Author:
          </dt>
          <dd>
            W3C's Web Applications (WebApps) Working Group.
          </dd>
          <dt>
            Change controller:
          </dt>
          <dd>
            W3C.
          </dd>
        </dl>
      </section>
      <section class="appendix">
        <h2>
          Acknowledgments
        </h2>
        <p>
          This document reuses text from the WHATWG [[!HTML]] specification as
          permitted by the license of that specification. The [[!HTML]]
          specification is edited by Ian Hickson.
        </p>
      </section>
    </section>
  </body>
</html>
